/**
 * ============================================
 * STYLE.CSS - Ana Stil Dosyası
 * ============================================
 * Versiyon: 3.0.1 (Optimized & Clean)
 * Tarih: 16 Aralık 2025
 * 
 * Modüler CSS mimarisi ile yeniden yapılandırıldı.
 * Sadece sayfa-özel stiller bu dosyada tutulur.
 */

/* ==========================================
   CSS IMPORTS - Modüler Mimari
   ========================================== */
@import url('design-tokens.css');
@import url('base.css');
@import url('layout.css');
@import url('components.css');
@import url('mobile-dock.css');
@import url('animations.css');
@import url('utilities.css');
@import url('global-search.css');

/* ==========================================
   LEGACY COMPATIBILITY
   ========================================== */
:root {
    --radius: var(--radius-lg);
    --transition: var(--transition-base);
    --shadow: var(--shadow-md);
    --radius-sm: var(--radius-md);
    --primary-soft: var(--primary-ghost);
    --text-main: var(--text-primary);
    --bg-body: var(--bg-primary);
    --bg-card: var(--bg-secondary);
    --bg-sidebar: var(--bg-secondary);
}

/* ==========================================
   BRAND SECTION
   ========================================== */
.brand-section {
    display: flex;
    gap: var(--space-3);
    align-items: center;
}

.logo {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-lg);
    display: grid;
    place-items: center;
    background: linear-gradient(135deg, var(--primary-ghost), rgba(34, 211, 238, 0.18));
    color: var(--primary);
    font-size: 1.1rem;
}

.brand-eyebrow {
    font-size: var(--text-2xs);
    font-weight: 700;
    text-transform: uppercase;
    color: var(--text-tertiary);
    letter-spacing: 0.1em;
}

.brand-text h2 {
    font-size: 1.15rem;
    font-weight: 800;
    line-height: 1.25;
}

.brand-text span {
    color: var(--primary);
}

/* ==========================================
   SIDEBAR NAVIGATION
   ========================================== */
.menu-label {
    font-size: var(--text-2xs);
    font-weight: 700;
    letter-spacing: 0.08em;
    color: var(--text-tertiary);
    margin-top: var(--space-2);
    text-transform: uppercase;
}

.mode-menu,
.filter-menu {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.filter-menu {
    flex: 1;
    overflow-y: auto;
    padding-right: var(--space-1);
    scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
}

.nav-item {
    border: 1px solid transparent;
    border-radius: var(--radius-md);
    padding: var(--space-3) var(--space-3);
    background: transparent;
    color: var(--text-secondary);
    font-size: var(--text-sm);
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: var(--space-3);
    text-decoration: none;
    transition: var(--transition-fast);
    cursor: pointer;
}

.nav-item i {
    width: 1rem;
    text-align: center;
    flex-shrink: 0;
}

.nav-item:hover {
    background: var(--primary-ghost);
    color: var(--primary);
}

.nav-item.active {
    background: var(--primary);
    color: white;
    box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
}

/* ==========================================
   PROFILE SECTION
   ========================================== */
.profile-section {
    margin-top: auto;
    border-top: 1px solid var(--border);
    padding-top: var(--space-4);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.theme-toggle {
    border: 1px solid var(--border);
    border-radius: var(--radius-full);
    padding: var(--space-3) var(--space-4);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    background: var(--primary-ghost);
    font-weight: 600;
    font-size: var(--text-sm);
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition-fast);
}

.theme-toggle:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-sm);
    color: var(--primary);
}

.profile-card {
    display: flex;
    gap: var(--space-3);
    align-items: center;
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    background: var(--bg-secondary);
    border: 1px solid var(--border);
}

.avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
    display: grid;
    place-items: center;
    font-weight: 700;
    flex-shrink: 0;
}

.user-info .name {
    font-weight: 700;
    color: var(--text-primary);
}

.user-info .status {
    font-size: var(--text-xs);
    color: var(--text-tertiary);
}

/* ==========================================
   LEGACY HEADER STYLES
   Artık page-header bileşeni kullanılıyor (components.css)
   Geriye dönük uyumluluk için tutuldu
   ========================================== */
.top-header {
    position: sticky;
    top: 0;
    z-index: var(--z-sticky);
    background: var(--glass-bg);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    padding: var(--space-5) var(--space-6);
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-6);
    border-bottom: 1px solid var(--border-subtle);
}

.top-header--minimal {
    justify-content: flex-end;
}

.top-header--stacked {
    position: static;
    background: transparent;
    backdrop-filter: none;
    border-bottom: none;
    padding: var(--space-5) var(--space-6) 0;
}

.header-title {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
}

.header-eyebrow {
    font-size: var(--text-xs);
    text-transform: uppercase;
    color: var(--text-tertiary);
    letter-spacing: 0.12em;
    font-weight: 600;
}

.header-title h1 {
    font-size: clamp(1.35rem, 1.6vw, 1.8rem);
    font-weight: 800;
}

.header-desc {
    color: var(--text-secondary);
    font-size: var(--text-sm);
}

#active-filter-text {
    color: var(--text-secondary);
    font-size: var(--text-sm);
}

.header-actions {
    display: flex;
    gap: var(--space-3);
}

.header-btn {
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
    padding: var(--space-3) var(--space-5);
    background: var(--bg-secondary);
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    font-weight: 600;
    font-size: var(--text-sm);
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition-fast);
}

.header-btn:hover {
    color: var(--primary);
    border-color: var(--primary);
}

/* ==========================================
   LEGACY SEARCH STYLES
   Artık global-search kullanılıyor
   Geriye dönük uyumluluk için tutuldu
   ========================================== */
.search-container {
    flex: 1;
    max-width: 420px;
    display: flex;
    align-items: center;
    gap: var(--space-3);
    position: relative;
}

.search-container i {
    position: absolute;
    left: var(--space-4);
    color: var(--text-tertiary);
    pointer-events: none;
}

.search-container input {
    width: 100%;
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
    padding: var(--space-3) var(--space-5) var(--space-3) var(--space-10);
    font-size: var(--text-sm);
    background: var(--bg-secondary);
    color: var(--text-primary);
    transition: var(--transition-fast);
}

.search-container input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px var(--primary-ghost);
}

.header-search {
    position: relative;
    max-width: 420px;
    flex: 1;
}

.header-search i {
    position: absolute;
    left: var(--space-4);
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-tertiary);
    pointer-events: none;
}

.header-search input {
    width: 100%;
    padding: var(--space-4) var(--space-4) var(--space-4) var(--space-10);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    background: var(--bg-secondary);
    font-size: var(--text-sm);
    color: var(--text-primary);
    transition: var(--transition-fast);
}

.header-search input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px var(--primary-ghost);
}

.search-compact {
    display: none;
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
    padding: var(--space-2) var(--space-4);
    background: transparent;
    font-size: var(--text-xs);
    font-weight: 600;
    gap: var(--space-2);
    align-items: center;
    cursor: pointer;
    transition: var(--transition-fast);
}

.search-compact:hover {
    border-color: var(--primary);
    color: var(--primary);
}

/* ==========================================
   INSIGHT STRIP
   ========================================== */
.insight-strip {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-5) var(--space-6) var(--space-2);
    flex-wrap: wrap;
}

.insight-pill {
    background: var(--bg-secondary);
    border: 1px solid var(--border);
    border-radius: var(--radius-full);
    padding: var(--space-2) var(--space-4);
    display: flex;
    gap: var(--space-2);
    align-items: center;
    box-shadow: var(--shadow-xs);
}

.pill-label {
    font-size: var(--text-2xs);
    text-transform: uppercase;
    color: var(--text-tertiary);
    letter-spacing: 0.08em;
}

.pill-value {
    font-weight: 700;
    color: var(--text-primary);
}

/* ==========================================
   CARDS CONTAINER
   ========================================== */
.cards-container {
    flex: 1;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
    gap: var(--space-5);
    padding: var(--space-5) 0 var(--space-20);
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
}

/* ==========================================
   QUESTION CARD STYLES
   ========================================== */
.card {
    background: var(--bg-secondary);
    border-radius: var(--radius-xl);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-sm);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Scroll reveal state with staggered entrance */
.card.scroll-reveal {
    opacity: 0;
    transform: translateY(40px) scale(0.96);
    transition: 
        opacity 0.6s var(--ease-apple-out),
        transform 0.6s var(--ease-apple-out),
        box-shadow 0.3s var(--ease-apple-out);
}

/* Staggered delays for initial visible cards */
.card.scroll-reveal:nth-child(1) { transition-delay: 0.05s; }
.card.scroll-reveal:nth-child(2) { transition-delay: 0.1s; }
.card.scroll-reveal:nth-child(3) { transition-delay: 0.15s; }
.card.scroll-reveal:nth-child(4) { transition-delay: 0.2s; }
.card.scroll-reveal:nth-child(5) { transition-delay: 0.25s; }
.card.scroll-reveal:nth-child(n+6) { transition-delay: 0s; }

.card.scroll-reveal.is-visible {
    opacity: 1;
    transform: translateY(0) scale(1);
    transition-delay: 0s; /* Reset delay after visible */
}

/* Hover only after visible */
.card.scroll-reveal.is-visible:hover {
    transform: translateY(-4px) scale(1);
    box-shadow: var(--shadow-lg);
}

.card-header {
    padding: var(--space-5) var(--space-6) var(--space-4);
    border-bottom: 1px solid var(--border-subtle);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.card-header__top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
}

.badge {
    align-self: flex-start;
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-full);
    background: var(--primary-ghost);
    color: var(--primary);
    font-size: var(--text-2xs);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.topic-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--text-sm);
    color: var(--text-secondary);
}

.topic-badge i {
    color: var(--primary);
}

.question {
    font-size: 1.1rem;
    line-height: 1.5;
    font-weight: 600;
    color: var(--text-primary);
}

.card-body {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    padding: var(--space-5) var(--space-6);
}

.answer-section {
    background: var(--primary-ghost);
    border: 1px solid rgba(79, 70, 229, 0.15);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    display: flex;
    gap: var(--space-2);
    flex-wrap: wrap;
    align-items: baseline;
}

.answer-label {
    font-size: var(--text-2xs);
    font-weight: 700;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--text-tertiary);
}

.answer-text {
    font-weight: 700;
    color: var(--primary);
}

.analysis-section {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
}

.section-title {
    font-weight: 700;
    color: var(--text-secondary);
    letter-spacing: 0.05em;
    font-size: var(--text-sm);
    text-transform: uppercase;
}

.core-info {
    color: var(--text-primary);
    font-size: var(--text-sm);
    line-height: 1.7;
}

.key-points ul,
.related-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    font-size: var(--text-sm);
    color: var(--text-primary);
}

.key-points li::before,
.related-list li::before {
    content: '•';
    color: var(--primary);
    margin-right: var(--space-2);
    font-weight: bold;
}

.info-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--primary-ghost);
    border: 1px solid rgba(79, 70, 229, 0.12);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.info-table th,
.info-table td {
    padding: var(--space-3) var(--space-4);
    border-bottom: 1px solid var(--border-subtle);
    font-size: var(--text-sm);
    text-align: left;
}

.info-table th {
    background: rgba(79, 70, 229, 0.08);
    font-weight: 700;
}

.alert-box {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    background: rgba(244, 114, 182, 0.08);
    border: 1px solid rgba(236, 72, 153, 0.25);
}

.alert-icon {
    font-size: 1.2rem;
    color: var(--danger);
}

.alert-text {
    color: var(--text-secondary);
    font-size: var(--text-sm);
    line-height: 1.6;
}

.related-questions {
    border-top: 1px dashed var(--border);
    padding-top: var(--space-4);
}

.related-title {
    font-weight: 700;
    font-size: var(--text-sm);
    margin-bottom: var(--space-3);
    display: flex;
    align-items: center;
    gap: var(--space-2);
    color: var(--primary);
}

/* Card Toggle & States */
.card-toggle {
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    padding: var(--space-3) var(--space-4);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
    font-weight: 600;
    font-size: var(--text-sm);
    color: var(--text-secondary);
    background: var(--bg-tertiary);
    cursor: pointer;
    transition: var(--transition-fast);
}

.card-toggle:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.card-toggle i {
    transition: transform var(--transition-fast);
}

.card.expanded .card-toggle i {
    transform: rotate(180deg);
}

.card.collapsed .analysis-section,
.card.collapsed .info-table,
.card.collapsed .key-points,
.card.collapsed .alert-box,
.card.collapsed .related-questions {
    display: none;
}

/* ==========================================
   SHARE BUTTON & TOAST
   ========================================== */
.share-btn {
    width: 36px;
    height: 36px;
    border-radius: var(--radius-md);
    background: var(--bg-tertiary);
    border: 1px solid var(--border);
    color: var(--text-tertiary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--text-sm);
    cursor: pointer;
    transition: var(--transition-fast);
    flex-shrink: 0;
}
.fav-btn {
    width: 36px;
    height: 36px;
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--bg-tertiary);
    color: var(--text-tertiary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--text-sm);
    cursor: pointer;
    transition: var(--transition-fast);
    flex-shrink: 0;
}

.share-btn:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    transform: scale(1.05);
}
.fav-btn:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    transform: scale(1.05);
}

/* Active favorite: show as colored (gold) star */
.fav-btn.is-active {
    border-color: var(--warning);
    color: var(--icon-warning);
}

.fav-btn.is-active:hover {
    background: var(--bg-tertiary);
    border-color: var(--warning);
    color: var(--icon-warning);
    transform: scale(1.05);
}

.fav-btn:active {
    transform: scale(0.95);
}

.share-btn:active {
    transform: scale(0.95);
}

/* Repeat ambiance (questions): low=red, high=green */
.card.repeat-low {
    border-color: var(--danger-light);
}

.card.repeat-high {
    border-color: var(--success-light);
}

/* Share toast ve highlighted stilleri components.css ve animations.css'de tanımlı */

/* ==========================================
   SESSION DOCK - Standart Desktop Dock
   Tüm sayfalarda aynı yapı
   ========================================== */
.session-dock {
    position: sticky;
    bottom: var(--space-4);
    margin: 0 auto var(--space-4);
    width: min(1100px, calc(100% - var(--space-8)));
    view-transition-name: dock-session;
    background: var(--glass-bg-solid);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-2xl);
    box-shadow: var(--glass-shadow);
    padding: var(--space-3) var(--space-5);
    display: flex;
    align-items: center;
    gap: var(--space-3);
    z-index: var(--z-dock);
}

.dock-content {
    flex: 1;
    display: flex;
    align-items: center;
    gap: var(--space-3);
    min-width: 0;
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.dock-content::-webkit-scrollbar {
    display: none;
}

/* Dock Navigasyon */
.dock-nav {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    flex-shrink: 0;
}

.dock-nav-btn {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    border-radius: var(--radius-lg);
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    color: var(--text-secondary);
    text-decoration: none;
    transition: all var(--transition-fast);
    white-space: nowrap;
}

.dock-nav-btn i {
    font-size: var(--icon-sm);
}

.dock-nav-btn:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

.dock-nav-btn.active {
    background: var(--primary-ghost);
    color: var(--primary);
}

.dock-nav-btn--primary {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white !important;
    box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3);
}

.dock-nav-btn--primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
}

.dock-nav-btn--primary.active {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3), inset 0 0 0 2px rgba(255,255,255,0.3);
}

/* Dock Segment Container - Scrollable */
.dock-segment-container {
    flex: 1;
    min-width: 0;
    max-width: 480px;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
    
    /* Fade edges for scroll indication */
    mask-image: linear-gradient(
        to right,
        transparent,
        black 8px,
        black calc(100% - 8px),
        transparent
    );
    -webkit-mask-image: linear-gradient(
        to right,
        transparent,
        black 8px,
        black calc(100% - 8px),
        transparent
    );
}

.dock-segment-container::-webkit-scrollbar {
    display: none;
}

/* İçerik az olduğunda mask kaldır */
.dock-segment-container:not(.scrollable) {
    mask-image: none;
    -webkit-mask-image: none;
}

/* Dock Ayraç */
.dock-divider {
    width: 1px;
    height: 24px;
    background: var(--border);
    flex-shrink: 0;
}

/* Dock Mod Butonları (SRS için) */
.dock-modes {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    flex-shrink: 0;
}

.dock-mode-btn {
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    border: 1px solid transparent;
    background: transparent;
    font-size: var(--text-xs);
    font-weight: var(--font-semibold);
    color: var(--text-tertiary);
    cursor: pointer;
    transition: all var(--transition-fast);
    white-space: nowrap;
}

.dock-mode-btn:hover {
    background: var(--bg-tertiary);
    color: var(--text-secondary);
}

.dock-mode-btn.active {
    background: var(--primary-ghost);
    color: var(--primary);
    border-color: var(--primary);
}

/* Dock Araçlar */
.dock-tools {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    flex-shrink: 0;
}

.dock-tool-btn {
    width: 40px;
    height: 40px;
    display: grid;
    place-items: center;
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--bg-secondary);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.dock-tool-btn i {
    font-size: var(--icon-sm);
}

.dock-tool-btn:hover {
    border-color: var(--primary);
    color: var(--primary);
    background: var(--primary-ghost);
}

.dock-tool-btn--start {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
    border: none;
    box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3);
}

.dock-tool-btn--start:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
    background: linear-gradient(135deg, var(--primary), var(--accent));
    color: white;
}

/* Dock Minimize Button */
.dock-minimize {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 1px solid var(--border);
    background: var(--bg-secondary);
    display: grid;
    place-items: center;
    font-size: var(--text-sm);
    color: var(--text-tertiary);
    cursor: pointer;
    transition: var(--transition-fast);
    flex-shrink: 0;
}

.dock-minimize:hover {
    border-color: var(--primary);
    color: var(--primary);
    background: var(--primary-ghost);
}

/* ==========================================
   DOCK FILTER MENU - Konu Filtreleri Dropdown
   ========================================== */
.dock-filter-menu {
    position: fixed;
    bottom: calc(var(--space-4) + 70px);
    left: 50%;
    transform: translateX(-50%) translateY(10px);
    width: min(400px, calc(100% - var(--space-8)));
    max-height: 60vh;
    
    background: var(--glass-bg-solid);
    backdrop-filter: var(--glass-blur);
    -webkit-backdrop-filter: var(--glass-blur);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-xl);
    
    z-index: 9998; /* Just below global search */
    overflow: hidden;
    
    /* Hidden by default */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: all 0.2s var(--ease-out);
}

/* Mobile adjustments */
@media (max-width: 1024px) {
    .dock-filter-menu {
        bottom: calc(var(--space-4) + 80px); /* Above mobile dock */
        width: calc(100% - var(--space-6));
        max-height: 50vh;
    }
}

/* Show when not hidden */
.dock-filter-menu:not([hidden]),
.dock-filter-menu.active {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateX(-50%) translateY(0);
}

.dock-filter-menu__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-4) var(--space-5);
    border-bottom: 1px solid var(--border-subtle);
}

.dock-filter-menu__header span {
    font-size: var(--text-sm);
    font-weight: var(--font-bold);
    color: var(--text-primary);
}

.dock-filter-menu__close {
    width: 32px;
    height: 32px;
    display: grid;
    place-items: center;
    border: none;
    background: var(--bg-tertiary);
    border-radius: var(--radius-md);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.dock-filter-menu__close:hover {
    background: var(--bg-secondary);
    color: var(--text-primary);
}

.dock-filter-menu__list {
    padding: var(--space-2);
    max-height: calc(60vh - 60px);
    overflow-y: auto;
}

.dock-filter-menu__item {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    width: 100%;
    padding: var(--space-3) var(--space-4);
    border: none;
    background: transparent;
    border-radius: var(--radius-lg);
    font-size: var(--text-sm);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition-fast);
    text-align: left;
}

.dock-filter-menu__item:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

.dock-filter-menu__item.active {
    background: var(--primary-ghost);
    color: var(--primary);
}

.dock-filter-menu__item i {
    width: 20px;
    text-align: center;
    font-size: var(--icon-sm);
}

.dock-filter-menu__item-count {
    margin-left: auto;
    font-size: var(--text-xs);
    color: var(--text-tertiary);
    background: var(--bg-tertiary);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-sm);
}

/* Legacy dock stilleri - geriye dönük uyumluluk */
.dock-mode-group {
    display: flex;
    gap: var(--space-2);
    overflow-x: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.dock-mode-group::-webkit-scrollbar {
    display: none;
}

.dock-chip {
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
    padding: var(--space-2) var(--space-4);
    font-size: var(--text-sm);
    font-weight: 600;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition-fast);
    white-space: nowrap;
}

.dock-chip:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.dock-chip.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
}

.dock-actions {
    margin-left: auto;
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.dock-link,
.dock-home {
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
    padding: var(--space-3) var(--space-4);
    font-weight: 600;
    font-size: var(--text-sm);
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    background: var(--bg-secondary);
    color: var(--text-secondary);
    text-decoration: none;
    cursor: pointer;
    transition: var(--transition-fast);
}

.dock-link:hover,
.dock-home:hover {
    border-color: var(--primary);
    color: var(--primary);
}

/* ==========================================
   DOCK FAB - Logo Button (Dock gizlendiğinde görünür)
   ========================================== */
.dock-fab {
    position: fixed;
    bottom: var(--space-6);
    left: 50%;
    transform: translateX(-50%);
    z-index: var(--z-dock, 1000);
    view-transition-name: dock-fab;
    
    /* Pill Button - Logo size */
    width: 60px;
    height: 60px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    
    /* Glassmorphism - Green crescent gradient */
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    box-shadow: 
        0 8px 32px rgba(16, 185, 129, 0.4),
        0 4px 16px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    
    /* Icon - Logo */
    color: white;
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* Hidden by default - Apple-style */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: translateX(-50%) translateY(16px) scale(0.9);
    transition: 
        opacity 0.2s var(--ease-apple),
        transform 0.2s var(--ease-apple),
        box-shadow 0.2s var(--ease-apple),
        visibility 0s linear 0.2s;
}

/* FAB görünür durumu - Apple-style spring */
.dock-fab.visible {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateX(-50%) translateY(0) scale(1);
    transition: 
        opacity 0.35s var(--ease-apple-out),
        transform 0.5s var(--ease-apple-out),
        box-shadow 0.3s var(--ease-apple),
        visibility 0s linear 0s;
}

/* FAB hover - Apple-style subtle lift */
.dock-fab:hover {
    transform: translateX(-50%) translateY(-3px) scale(1.08);
    box-shadow: 
        0 12px 40px rgba(16, 185, 129, 0.5),
        0 4px 16px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.dock-fab:active {
    transform: translateX(-50%) translateY(-1px) scale(0.98);
    transition: transform 0.1s var(--ease-apple);
}

/* FAB icon container - Apple-style design */
.dock-fab__icon {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

/* Custom SVG crescent - Apple minimal style */
.dock-fab__icon .crescent-icon {
    width: 42px;
    height: 42px;
    transition: 
        transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1),
        filter 0.4s ease;
}

/* Visible state - occasional spin animation */
.dock-fab.visible .crescent-icon {
    animation: occasionalSpin 12s ease-in-out infinite;
}

/* Smooth occasional spin - harmonious timing */
@keyframes occasionalSpin {
    0% { 
        transform: rotate(0deg);
    }
    75% { 
        transform: rotate(0deg);
    }
    87.5% { 
        transform: rotate(360deg);
    }
    100% { 
        transform: rotate(360deg);
    }
}

/* Hover - Apple spring bounce */
.dock-fab:hover .crescent-icon {
    animation: none;
    transform: scale(1.15);
    filter: drop-shadow(0 2px 8px rgba(255, 255, 255, 0.25));
}

/* Active press - Apple tactile feedback */
.dock-fab:active .crescent-icon {
    transform: scale(0.95);
    transition: transform 0.1s ease;
}

/* Legacy Font Awesome support */
.dock-fab__icon .fa-moon {
    font-size: 1.85rem;
    transition: 
        transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1),
        filter 0.4s ease;
    z-index: 1;
}

.dock-fab__icon .fa-sparkles {
    position: absolute;
    top: 10px;
    right: 11px;
    font-size: 0.8rem;
    opacity: 0;
    transform: scale(0.5) rotate(-20deg);
    transition: 
        opacity 0.4s ease,
        transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 2;
}

.dock-fab.visible .fa-moon {
    animation: appleBreathe 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.dock-fab.visible .fa-sparkles {
    opacity: 0.9;
    transform: scale(1) rotate(0deg);
    animation: appleSparkle 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    animation-delay: 0.5s;
}

@keyframes appleSparkle {
    0%, 100% { 
        opacity: 0.7;
    }
    50% { 
        opacity: 1;
    }
}

.dock-fab:hover .fa-moon {
    animation: none;
    transform: scale(1.12);
    filter: drop-shadow(0 2px 8px rgba(255, 255, 255, 0.25));
}

.dock-fab:hover .fa-sparkles {
    animation: none;
    opacity: 1;
    transform: scale(1.15) rotate(8deg);
}

.dock-fab:active .fa-moon {
    transform: scale(0.95);
    transition: transform 0.1s ease;
}

.dock-fab:active .fa-sparkles {
    transform: scale(0.9);
    transition: transform 0.1s ease;
}

/* Legacy support - single icon fallback */
.dock-fab > i.fa-moon {
    font-size: 1.85rem;
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.dock-fab.visible > i.fa-moon {
    animation: appleBreathe 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.dock-fab:hover > i.fa-moon {
    animation: none;
    transform: scale(1.12);
    filter: drop-shadow(0 2px 8px rgba(255, 255, 255, 0.25));
}

/* Dark mode */
[data-theme="dark"] .dock-fab {
    box-shadow: 
        0 8px 32px rgba(16, 185, 129, 0.5),
        0 4px 16px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* iOS Safe Area */
@supports (bottom: env(safe-area-inset-bottom)) {
    .dock-fab {
        bottom: calc(var(--space-6) + env(safe-area-inset-bottom));
    }
}

/* ==========================================
   DOCK MINIMIZE STATE
   Session-dock veya mobile-dock minimize edildiğinde
   ========================================== */

/* Desktop: Session dock - Apple-style animations */
.session-dock {
    opacity: 1;
    visibility: visible;
    transform: translateY(0) scale(1);
    transition: 
        opacity 0.4s var(--ease-apple-out),
        transform 0.4s var(--ease-apple-out),
        visibility 0s linear 0s;
}

.session-dock.minimized {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: translateY(20px) scale(0.98);
    transition: 
        opacity 0.25s var(--ease-apple),
        transform 0.25s var(--ease-apple),
        visibility 0s linear 0.25s;
}

/* Mobile: Mobile dock - Apple-style animations */
.mobile-dock {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0) scale(1);
    transition: 
        opacity 0.4s var(--ease-apple-out),
        transform 0.4s var(--ease-apple-out),
        visibility 0s linear 0s;
}

.mobile-dock.minimized {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: translateX(-50%) translateY(20px) scale(0.98);
    transition: 
        opacity 0.25s var(--ease-apple),
        transform 0.25s var(--ease-apple),
        visibility 0s linear 0.25s;
}

.mobile-dock.minimized .dock__panel {
    display: none;
}

/* ==========================================
   MOBILE HERO
   ========================================== */
.mobile-hero {
    display: none;
    padding: 0 var(--space-6) var(--space-5);
    gap: var(--space-4);
}

.mobile-hero__profile {
    border: 1px solid var(--border);
    border-radius: var(--radius-xl);
    padding: var(--space-4);
    background: var(--bg-secondary);
    box-shadow: var(--shadow-sm);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.mobile-hero__eyebrow {
    font-size: var(--text-xs);
    text-transform: uppercase;
    color: var(--text-tertiary);
    letter-spacing: 0.1em;
}

.mobile-hero__theme {
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    padding: var(--space-2) var(--space-4);
    background: var(--primary-ghost);
    font-weight: 600;
    font-size: var(--text-sm);
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    cursor: pointer;
    transition: var(--transition-fast);
}

.mobile-hero__actions,
.study-mobile-actions {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: var(--space-3);
}

.mobile-hero__actions button,
.study-mobile-action {
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    padding: var(--space-3) var(--space-4);
    background: var(--bg-secondary);
    font-weight: 600;
    font-size: var(--text-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    cursor: pointer;
    transition: var(--transition-fast);
}

.study-mobile-action.primary {
    background: var(--primary);
    color: white;
    border-color: transparent;
}

/* ==========================================
   FILTER PANEL (Legacy)
   ========================================== */
.filter-panel {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding: var(--space-6);
    opacity: 0;
    pointer-events: none;
    transition: opacity var(--transition-normal);
    z-index: var(--z-modal);
}

.filter-panel.visible,
.filter-panel.is-open {
    opacity: 1;
    pointer-events: all;
}

.filter-panel__sheet {
    width: min(520px, 100%);
    background: var(--bg-secondary);
    border-radius: var(--radius-2xl) var(--radius-2xl) var(--radius-lg) var(--radius-lg);
    padding: var(--space-6);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-xl);
}

.filter-panel__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-4);
}

.filter-panel__eyebrow {
    font-size: var(--text-xs);
    text-transform: uppercase;
    color: var(--text-tertiary);
    letter-spacing: 0.12em;
}

.filter-panel__close {
    width: 44px;
    height: 44px;
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
    background: transparent;
    display: grid;
    place-items: center;
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition-fast);
}

.filter-panel__close:hover {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

.filter-panel__body {
    max-height: 60vh;
    overflow-y: auto;
}

.mobile-filter-strip {
    display: flex;
    gap: var(--space-3);
    flex-wrap: wrap;
}

.mobile-filter-chip {
    border-radius: var(--radius-full);
    border: 1px solid var(--border);
    padding: var(--space-2) var(--space-4);
    background: transparent;
    font-weight: 600;
    font-size: var(--text-sm);
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition-fast);
}

.mobile-filter-chip:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.mobile-filter-chip.active {
    background: var(--primary);
    color: white;
    border-color: transparent;
}

.filter-placeholder {
    font-size: var(--text-sm);
    color: var(--text-tertiary);
    padding: var(--space-2) var(--space-1);
}

/* ==========================================
   MOBILE BOTTOM NAV (Legacy - Hidden)
   MobileDock ile değiştirildi
   ========================================== */
.mobile-bottom-nav {
    display: none !important;
}

/* ==========================================
   UTILITY CLASSES
   ========================================== */
.hide-mobile {
    display: block;
}

/* ==========================================
   RESPONSIVE BREAKPOINTS
   ========================================== */

/* Large Desktop (1200px) */
@media (max-width: 1200px) {
    .sidebar {
        width: 220px;
    }
}

/* Tablet & Small Desktop (1024px) */
@media (max-width: 1024px) {
    .dock-theme {
        display: inline-flex;
    }

    /* Session-dock mobilde gizlenir - mobile-dock kullanılır */
    .session-dock {
        display: none;
    }
}

/* Tablet (768px) */
@media (max-width: 768px) {
    .filter-menu,
    .insight-strip,
    .search-container {
        display: none;
    }

    .search-compact {
        display: inline-flex;
    }

    .mobile-hero {
        display: flex;
        flex-direction: column;
    }

    .cards-container {
        padding: var(--space-5) var(--space-5) var(--space-32);
        grid-template-columns: 1fr;
    }

    .top-header {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-4);
    }

    .header-actions {
        width: 100%;
    }

    .header-btn {
        flex: 1;
        justify-content: center;
    }

    .hide-mobile {
        display: none;
    }

    .mode-label,
    .mode-menu {
        display: none;
    }

    /* Session-dock mobilde gizli olduğu için bu stiller artık gereksiz */
}

/* Mobile (480px) */
@media (max-width: 480px) {
    .cards-container {
        padding: var(--space-4) var(--space-4) var(--space-32);
    }

    .card-header,
    .card-body {
        padding: var(--space-4) var(--space-5);
    }
    
    .insight-strip {
        padding: var(--space-4) var(--space-5) var(--space-2);
    }
}

/* ==========================================
   REDUCED MOTION
   ========================================== */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}
